{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n    init: function () {\n        this.toggleFiltersBox();\n        this.toggleFiltersContainerMobile();\n    },\n\n    toggleFiltersBox: function () {\n        var $container = $('#sidebar-left .list-box');\n        $container.each(function() {\n            var $listHeader = $(this).find('a.list-group-item'),\n                $listBody = $(this).find('div.list-group-item');\n            $listHeader.off('click').on('click', function() {\n                $listBody.slideToggle();\n                $(this).toggleClass('active');\n            });\n        });\n    },\n\n    toggleFiltersContainerMobile: function () {\n        var $filterBtn = $('.filter-mobile-heading'),\n            $filterContainer = $filterBtn.next();\n        \n        $filterBtn.on('click', function () {  \n            $filterContainer.slideToggle();\n        });\n    }\n}\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar util = require('./util/_util');\n\nmodule.exports = {\n    init: function () {\n        this.mobileMenu();\n        this.desktopMenu();\n        this.displayMenu();\n    },\n    mobileMenu: function () {\n       \n        $('nav *').removeClass('dropdown-menu');\n\n        if (util.isMobile()) { \n            $('#mobile_menu').mmenu({\n                \"slidingSubmenus\": true,\n                \"extensions\": [\n                    \"shadow-page\",\n                    \"shadow-panels\"\n                ],\n                \"iconbar\": {\n                    \"add\": true,\n                    \"top\": [\n                        \"<a href='/'><i class='fa fa-home'></i></a>\",\n                        \"<a href='#/'><i class='fa fa-user'></i></a>\"\n                    ],\n                    \"bottom\": [\n                        \"<a href='mailto:office@nautica-shop.ro'><i class='fa fa-envelope-o'></i></a>\",\n                        \"<a href='tel:0745884878'><i class='fa fa-phone'></i></a>\",\n                        \"<a href='https://www.facebook.com/pages/Nautica-SHOP/569833203045779' title='Nautica Shop'><i class='fa fa-facebook'></i></a>\"\n                    ]\n                }\n            });\n        }\n    },\n    desktopMenu: function () {\n        if (!util.isMobile()) {\n            $('ul.megamenu > li').each(function(index, el) {\n                $(el).on('mouseenter', function() {\n                    // set height for subcategories container\n                    var marginTop = $(this).outerHeight() * index + 1;\n                    $(this).find('ul.level1').css('top', -marginTop);\n                });\n            });\n        }\n    },\n    displayMenu: function () {\n        if (util.isMobile() || $('body').hasClass('page-home')) return;\n\n        $('nav')\n            .off('mouseenter').on('mouseenter', function() {\n                $('ul.megamenu').addClass('animated');\n            })\n            .off('mosueleave').on('mouseleave', function() {\n                $('ul.megamenu').removeClass('animated');\n            });\n    }\n}\n},{\"./util/_util\":7}],3:[function(require,module,exports){\n'use strict';\n/** \n * TO DO: need works\n*/\n\nmodule.exports = {\n    init: function() {\n        this.show();\n        this.close();\n    },\n    show: function() {\n        var $quickviewBtn = $('.product-block .quick-view');\n\n        $quickviewBtn.off('click').on('click', function(e){\n            e.preventDefault();\n            $('#QuickView').remove();\n            var url = $(this).attr('href');\n            \n            console.log(url);\n            $.ajax({\n                url : url,\n                type: 'get',\n                success: function(data){\n                    var htmlString = \n                    '<div class=\"modal\" id=\"QuickView\" role=\"dialog\">' + \n                        '<div class=\"modal-dialog modal-dialog-centered\">' +\n                            '<div class=\"modal-content\">' +\n                                '<div class=\"modal-header\">' + \n                                    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>' +\n                                    '<h4>QuickView Header</h4>' +\n                                '</div>' +\n                                '<div class=\"modal-body\">' +\n                                    data +\n                                '</div>'\n                            '</div>' + \n                        '</div>' +\n                    '</div>'\n                    $('body').append(htmlString);\n                }\n            })\n            $('#QuickView').modal('show');\n        });\n    },\n    close: function() {\n      \n        $(document).on('hide.bs.modal','#QuickView', function () {\n            $('#QuickView').remove();\n        });\n    }\n};\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar options = {\n    infinite: true,\n    slidesToShow: 6,\n    slidesToScroll: 1,\n    adaptiveHeight: true,\n    variableWidth: false, \n    prevArrow:\"<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>\",\n    nextArrow:\"<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>\",\n    responsive: [\n        {\n          breakpoint: 1024,\n          settings: {\n            slidesToShow: 6, \n            slidesToScroll: 3,\n            infinite: true,\n            dots: false\n          }\n        },\n        {\n          breakpoint: 600,\n          settings: {\n            slidesToShow: 3,\n            slidesToScroll: 2\n          }\n        },\n        {\n          breakpoint: 480,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 1\n          }\n        }\n      ]\n}\n\nmodule.exports = {\n    homepage: function () {\n        var $sContainer = $('[id^=\"productcarousel\"]');\n\n        $sContainer.slick(options);\n    }\n}\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar slick = require('./_slick');\nvar nav = require('./_nav');\nvar filters = require('./_filters');\nvar cart = require('./cart/_cart');\nvar quickView = require('./_quickview');\n\n$(function(){\n    // Mobile navigation\n    nav.init();\n    // Filters\n    filters.init();\n    // Slick sliders - homepage\n    slick.homepage();\n    // Product page\n    cart.init();\n    // Quick View\n    //quickView.init();\n});\n},{\"./_filters\":1,\"./_nav\":2,\"./_quickview\":3,\"./_slick\":4,\"./cart/_cart\":6}],6:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n    init : function () {\n        this.addToCart();\n        this.removeProductFromMiniCart();\n    },\n\n    addToCart : function () {\n        var $addToCart = $('#button-cart'),\n            url = $addToCart.data('url');\n\n        $addToCart.on('click', function() {\n            $.ajax({\n                url: url,\n                type: 'post',\n                data: $('#product input[type=\\'number\\'], #product input[type=\\'hidden\\'], #product input[type=\\'radio\\']:checked, #product input[type=\\'checkbox\\']:checked, #product select, #product textarea'),\n                dataType: 'json',\n                beforeSend: function() {\n                    $('#button-cart').button('loading');\n                },\n                complete: function() {\n                    $('#button-cart').button('reset');\n                },\n                success: function(json) {\n                    $('.alert, .text-danger').remove();\n                    $('.form-group').removeClass('has-error');\n                    if (json['error']) {\n                        if (json['error']['option']) {\n                            for (i in json['error']['option']) {\n                                var element = $('#input-option' + i.replace('_', '-'));\n                                if (element.parent().hasClass('input-group')) {\n                                    element.parent().after('<div class=\"text-danger\">' + json['error']['option'][i] + '</div>');\n                                } else {\n                                    element.after('<div class=\"text-danger\">' + json['error']['option'][i] + '</div>');\n                                }\n                            }\n                        }\n                        if (json['error']['recurring']) {\n                            $('select[name=\\'recurring_id\\']').after('<div class=\"text-danger\">' + json['error']['recurring'] + '</div>');\n                        }\n                        // Highlight any found errors\n                        $('.text-danger').parent().addClass('has-error');\n                    }\n                    if (json['success']) {\n                        $('#notification').html('<div class=\"alert alert-success\">' + json['success'] + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button></div>');\n                        $('#cart-total sup').html(json['totalQty']);\n                        $('html, body').animate({ scrollTop: 0 }, 'slow');\n                        $('#minicart-container').load('index.php?route=common/cart/info');\n                    }\n                }\n            });\n        });\n    },\n\n    removeProductFromMiniCart : function () {\n        var key, url;\n        $('body').on('click', '.minicart button.remove', function(){\n            key = $(this).data('key');\n            url = $(this).data('url');\n\n            $.ajax({\n                url: url,\n                type: 'post',\n                data: 'key=' + key,\n                dataType: 'json',\n                beforeSend: function() {\n                    $('#cart > button').button('loading');\n                },\n                success: function(json) {\n                    $('#cart > button').button('reset');\n            \n                    $('#cart-total').html(json['total']);\n            \n                    if (getURLVar('route') == 'checkout/cart' || getURLVar('route') == 'checkout/checkout') {\n                        location = 'index.php?route=checkout/cart';\n                    } else {\n                        $('#minicart-container').load('index.php?route=common/cart/info');\n                    }\n                }\n            });\n        })\n    }\n}\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar util = {\n    isMobile: function () {\n        var mobileAgentHash = ['mobile', 'tablet', 'phone', 'ipad', 'ipod', 'android', 'blackberry', 'windows ce', 'opera mini', 'palm'];\n        var idx = 0;\n        var isMobile = false;\n        var userAgent = (navigator.userAgent).toLowerCase();\n\n        while (mobileAgentHash[idx] && !isMobile) {\n            isMobile = (userAgent.indexOf(mobileAgentHash[idx]) >= 0);\n            idx++;\n        }\n        return isMobile;\n    }\n}\n\nmodule.exports = util;\n},{}]},{},[5]);\n"],"file":"app.js"}